spring.application.name=expensetracker
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:db}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:appdb}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${MYSQL_USER:appuser}
spring.datasource.password=${MYSQL_PASSWORD:apppassword}
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
server.port=8080
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Flyway Configuration (Migrate existing DB)
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1

# Connection Pool Optimization (For 8GB/2vCPU Server)
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=30000


app.jwtSecret=YourSecretKeyForJwtSigningShouldBeLongEnoughToBeSecureAndNotEasilyGuessable
app.jwtExpirationMs=86400000
app.jwtRefreshExpirationMs=604800000

# Gemini AI Configuration
# Get your free API key from: https://makersuite.google.com/app/apikey
gemini.api.key=${GEMINI_API_KEY}

# = SPRINGDOC / SWAGGER CONFIG
# ===============================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# Fix for date serialization (Array -> String)
spring.jackson.serialization.write-dates-as-timestamps=false

# Google OAuth2 Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile,openid

# Frontend URL for Redirects
app.frontendUrl=${FRONTEND_URL:http://localhost:3000}

# Handle Proxy Headers for OAuth Redirects -> HTTPS
server.forward-headers-strategy=native
